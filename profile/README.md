<h1 align="center">Welcome to 🍼PhoBawBaw🍼</h1>

<p align="center">
<img width=80% src="https://github.com/user-attachments/assets/68a8a389-f333-426b-8c11-43baa33a4e16">
</p>

Team PhoBawBaw는 저출산 시대에 부모들이 아이를 키우는 데 있어 부담을 줄이고, 아기들이 더 행복한 세상을 만들기 위해 모였습니다. 저희가 개발한 아기 울음 소리 모니터링 시스템은 가정용 홈카메라 형태로 아기의 울음 상태를 실시간으로 모니터링할 수 있는 통합 솔루션입니다.

## Main Features

### 1. 실시간 비디오 스트리밍
가정에 설치된 장비를 통해 아기가 있는 환경의 실시간 비디오 (영상과 음성)을 GStreamer, RTSP를 통해 스트리밍합니다.
- 영상과 음성을 하나의 파이프라인을 통해 효율적으로 전송
- 지연 시간이 적고 안정적인 실시간 스트리밍 제공

### 2. 녹화 영상 조회
실시간 스트리밍과 동시에 모든 비디오는 녹화되며, 이를 대시보드에서 조회할 수 있습니다.
- 부모는 아기의 활동을 지속적으로 추적
- 시간 경과에 따른 패턴이나 이상 상황을 확인하는 데 유용

### 3. 온도 및 습도 모니터링
각 가정에 설치된 장비에는 DHT22 센서가 장착되어, 실시간으로 온도와 습도를 모니터링할 수 있으며, 이 데이터는 시스템 대시보드에서 확인할 수 있습니다.
- 별도의 장비가 필요 없이, 하나의 장비로 아기의 환경과 상태를 모두 모니터링 가능

### 4. 아기 울음 소리 분석
시스템은 실시간으로 수음된 음성을 분석하여 아기가 울고 있을 때 그 원인을 파악합니다. 다양한 아기 울음 소리 데이터를 바탕으로 훈련된 모델을 통해 배고픔, 피곤함, 불편함 등의 원인을 분석하고, 이를 부모에게 알림으로 전달합니다.
- 실시간 울음 소리 분석과 원인 제공
- 현재까지 이러한 기능을 완전히 통합한 시스템은 존재하지 않음

## System Overview

### 임베디드 IoT 시스템
- GStreamer 프레임워크를 사용하여 실시간 영상 및 음성 스트리밍 파이프라인을 구축
- 영상과 음성을 하나의 파이프라인으로 전송하여 싱크 문제를 해결
- 각 가정에 설치된 라즈베리파이가 RTSP 서버 역할을 수행하여 안정적인 스트리밍 제공.
- 중앙 서버에서는 RTSP 서버의 영상을 FFmpeg와 HLS를 통해 웹 애플리케이션으로 송출
- 각 가정의 장비에는 DHT22 온습도 센서가 장착되어 온도와 습도를 실시간으로 중앙 서버의 데이터베이스에 저장

### 인공지능 모델
- 실제 아기 울음 소리로 구성된 데이터셋을 기반으로 CNN 오디오 분류 모델을 훈련
- 배고픔, 피로, 트림 필요 등 총 8가지 울음 원인을 분석 가능
- 아기가 울지 않는 경우는 일반적인 상태로 분류
- 10초 간격으로 아기의 울음 소리를 분석하기 위해 안정적이고 빠른 모델 서빙이 필요하며, 이를 위해 FastAPI를 사용해 비동기적으로 실시간 분석을 수행

### 웹 애플리케이션

#### Frontend: Next.js (React 기반)
- Microsites 지원: 여러 프론트엔드가 API 백엔드에 연결된 구조를 지원
- API 타입 안전성: 백엔드에서 내보낸 타입을 프론트엔드의 공유 패키지에 저장
- Server Actions: Next.js 프로젝트의 서버 부분에서 폼 제출 처리
- Tailwind CSS: 모든 프론트엔드 패키지와 사이트에 대한 기본 지원
- 상태 관리: react-hook-form을 사용하여 폼을 관리하며, zod로 스키마 검증을 수행
- Next-auth: 자격 증명을 기반으로 하는 인증 시스템 구현
- Docker Compose: `docker-compose up` 명령어로 프론트엔드와 백엔드를 함께 실행

#### Backend: Django & PostgreSQL
- 확장성: Django를 기반으로 하는 확장 가능한 아키텍처 구축
- Django REST Framework: REST API 설계 및 구현을 위한 djangorestframework 사용
- PostgreSQL: 안정적이고 확장 가능한 데이터베이스로 PostgreSQL을 사용하여 데이터 관리
- JWT 인증: djangorestframework-simplejwt를 통한 JWT 기반 인증 시스템
- Swagger: 백엔드 API 문서화를 위한 Swagger UI 기본 제공
- 프로필 관리: 프론트엔드에서 사용자 프로필 정보를 업데이트할 수 있는 기능
- 커스텀 사용자 모델: Django 기본 사용자 모델을 확장하여 관리 기능 향상
- Poetry: 의존성 관리를 위해 poetry 사용
- Docker와 PostgreSQL 연동: Docker Compose 파일을 통해 PostgreSQL 데이터베이스를 쉽게 설정하고 관리

#### 통합 및 개발 환경
- Docker 기반: 모든 서비스가 Docker 환경에서 실행되며, `docker-compose`를 통해 쉽게 관리
- API 호출: `openapi-typescript-codegen`을 사용한 API 클라이언트 코드 생성 및 자동 업데이트 지원
- 실시간 상호작용: 실시간 데이터 통신을 위해 WebSocket 및 Next.js Server Actions 활용

### 가상화
- 인공지능 모델과 웹 애플리케이션 모두 컨테이너화되어 프로젝트의 재현성을 보장
- 오픈 소스로 배포 시에도 쉽게 배포하고 확장 가능

## System Setup

(TBD)

## 라이선스

(TBD)

---

<div align="center">

**_"이 울음 소리라는 건, 분석이 끝나고 나면 마치 부모의 마음을 깊이 들여다본 것 같은 따뜻함이 전해져요.  
저는 기술이지만, 그 순간만큼은 부모의 마음을 닮아가죠."_**

</div>
